import { C, R, Section, Chapter } from 'core/components'

import { SyntaxHighlighter, prism, styles, FooterNav } from '..'

<Chapter filename="writing-in-md.mdx">

<Section>

# Writing in Markdown (experimental)

Windrift has preliminary support for using Markdown-in-JSX ([MDX](https://github.com/mdx-js/mdx)) to write stories.

MDX syntax mixes Markdown and React syntax. Not everything that can be done in full React JSX
can be done in MDX--any functionality that depends on specific
parts of the React component lifecycle are awkward or not available in Markdown. The most relevant to Windrift authors is
the `useInventory()` hook--use the `Response` component instead.

## Usage

This chapter is itself written in MDX! You can use it as an example to follow.

An MDX chapter is considerably simpler than a standard Windrift chapter, with the following constraints:

* The filename **must** end in `.mdx`.
* It **must** be defined in `story.yaml` including the `.mdx` extension, unlike JSX/TSX chapters which omit the extension.
* Similarly, references to it in `Next` components or similar chapter names must include the `.mdx` extension.
* It does _not_ need to define a `Chapter` component or its own filename inside; Windrift will supply that.x
* It _can_ use any Windrift component such as `Choice` or `Response` components.
* It _cannot_ use any React Hooks like `useInventory`.
* You may divide it up into revealed `Section` components like a normal Windrift `Chapter`, but if you aren't incrementally
revealing passages you can have none at all.

<SyntaxHighlighter language="tsx" style={prism}>
{`// stories/manual/writing-in-md.mdx
# A simple MDX chapter.

import { C, R } from 'core/components'

Do you want <C options={[['ripe banana', 'bulbous orange', 'fuzzy kiwi']]} tag="fruit" />?

You picked <R tag="fruit" />.

)`}
</SyntaxHighlighter>
<aside>
Do you want <C options={[['ripe banana', 'bulbous orange', 'fuzzy kiwi']]} tag="fruit" />?

</aside>

</Section>

<Section>
<aside>

You picked <R tag="fruit" />.

</aside>
</Section>

</Chapter>